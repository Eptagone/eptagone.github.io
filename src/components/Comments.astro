---
interface Props {
    /**
     * Unique identifier for the page.
     */
    identifier: string;

    /**
     * Canonical URL for the page.
     */
    canonicalUrl: URL;
}

const { identifier, canonicalUrl } = Astro.props;
---

<div id="disqus_thread" data-identifier={identifier} data-canonical-url={canonicalUrl}></div>

<script is:inline data-astro-rerun>
    var disqus_config = function () {
        const thread = document.getElementById("disqus_thread");
        this.page.identifier = thread.dataset.identifier;
        this.page.url = thread.dataset.canonicalUrl;
    };

    (function () {
        // DON'T EDIT BELOW THIS LINE
        var d = document,
            s = d.createElement("script");
        s.src = "https://eptagone.disqus.com/embed.js";
        s.setAttribute("data-timestamp", (+new Date()).toString());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
